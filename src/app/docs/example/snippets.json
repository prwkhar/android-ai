{
  "snippets": [
    {
      "codeblockTitle": "DataStore.kt - Shared Data Storage",
      "code": "// File: app/src/main/java/com/example/yourapp/DataStore.kt\n\npackage com.example.yourapp\n\n// A simple singleton object to store total expenses and income\nobject DataStore {\n    var totalExpense: Double = 0.0\n    var totalIncome: Double = 0.0\n}\n"
    },
    {
      "codeblockTitle": "MainActivity.kt - Hosting Two Tabs using ViewPager2 & TabLayout",
      "code": "// File: app/src/main/java/com/example/yourapp/MainActivity.kt\n\npackage com.example.yourapp\n\nimport android.os.Bundle\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.viewpager2.widget.ViewPager2\nimport com.google.android.material.tabs.TabLayout\nimport com.google.android.material.tabs.TabLayoutMediator\n\n// MainActivity sets up the tab layout with two fragments: Expense and Income\nclass MainActivity : AppCompatActivity() {\n\n    private lateinit var viewPager: ViewPager2\n    private lateinit var tabLayout: TabLayout\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main) // see activity_main.xml\n\n        // Initialize the ViewPager and TabLayout\n        viewPager = findViewById(R.id.viewPager)\n        tabLayout = findViewById(R.id.tabLayout)\n\n        // Set the adapter for the ViewPager\n        viewPager.adapter = ExpenseIncomePagerAdapter(this)\n\n        // Link the TabLayout and the ViewPager with titles\n        TabLayoutMediator(tabLayout, viewPager) { tab, position ->\n            tab.text = when (position) {\n                0 -> \"Expense\"\n                1 -> \"Income\"\n                else -> \"Tab ${position + 1}\"\n            }\n        }.attach()\n    }\n}\n"
    },
    {
      "codeblockTitle": "ExpenseIncomePagerAdapter.kt - Adapter for ViewPager2",
      "code": "// File: app/src/main/java/com/example/yourapp/ExpenseIncomePagerAdapter.kt\n\npackage com.example.yourapp\n\nimport androidx.fragment.app.Fragment\nimport androidx.fragment.app.FragmentActivity\nimport androidx.viewpager2.adapter.FragmentStateAdapter\n\n// This adapter provides the fragments for each tab in the MainActivity\nclass ExpenseIncomePagerAdapter(activity: FragmentActivity) : FragmentStateAdapter(activity) {\n    override fun getItemCount(): Int = 2\n\n    override fun createFragment(position: Int): Fragment {\n        return when (position) {\n            0 -> ExpenseFragment() // First tab for expense\n            1 -> IncomeFragment()  // Second tab for income\n            else -> throw IllegalArgumentException(\"Invalid tab position\")\n        }\n    }\n}\n"
    },
    {
      "codeblockTitle": "ExpenseFragment.kt - Input Expenses, Sum & Save Data",
      "code": "// File: app/src/main/java/com/example/yourapp/ExpenseFragment.kt\n\npackage com.example.yourapp\n\nimport android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.Toast\nimport androidx.fragment.app.Fragment\n\n// Fragment for entering multiple expense values\nclass ExpenseFragment : Fragment() {\n\n    private lateinit var etExpense1: EditText\n    private lateinit var etExpense2: EditText\n    private lateinit var etExpense3: EditText\n    private lateinit var etExpense4: EditText\n    private lateinit var btnCalculate: Button\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        val view = inflater.inflate(R.layout.fragment_expense, container, false)\n        etExpense1 = view.findViewById(R.id.etExpense1)\n        etExpense2 = view.findViewById(R.id.etExpense2)\n        etExpense3 = view.findViewById(R.id.etExpense3)\n        etExpense4 = view.findViewById(R.id.etExpense4)\n        btnCalculate = view.findViewById(R.id.btnCalculate)\n        return view\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        // When user clicks Calculate, sum up the expenses\n        btnCalculate.setOnClickListener {\n            val exp1 = etExpense1.text.toString().toDoubleOrNull() ?: 0.0\n            val exp2 = etExpense2.text.toString().toDoubleOrNull() ?: 0.0\n            val exp3 = etExpense3.text.toString().toDoubleOrNull() ?: 0.0\n            val exp4 = etExpense4.text.toString().toDoubleOrNull() ?: 0.0\n\n            // Calculate total expenses\n            val totalExpense = exp1 + exp2 + exp3 + exp4\n            // Show the total using a Toast\n            Toast.makeText(requireContext(), \"Total Expenses: $totalExpense\", Toast.LENGTH_SHORT).show()\n            // Save total expense in shared DataStore\n            DataStore.totalExpense = totalExpense\n        }\n    }\n}\n"
    },
    {
      "codeblockTitle": "IncomeFragment.kt - Input Income and Submit",
      "code": "// File: app/src/main/java/com/example/yourapp/IncomeFragment.kt\n\npackage com.example.yourapp\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.Toast\nimport androidx.fragment.app.Fragment\n\n// Fragment for entering income details\nclass IncomeFragment : Fragment() {\n\n    private lateinit var etIncome: EditText\n    private lateinit var btnSubmit: Button\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        val view = inflater.inflate(R.layout.fragment_income, container, false)\n        etIncome = view.findViewById(R.id.etIncome)\n        btnSubmit = view.findViewById(R.id.btnSubmit)\n        return view\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        // When submit button is clicked, get income value, show a toast, and navigate to SummaryActivity\n        btnSubmit.setOnClickListener {\n            val income = etIncome.text.toString().toDoubleOrNull() ?: 0.0\n            // Show income in a Toast message\n            Toast.makeText(requireContext(), \"Income: $income\", Toast.LENGTH_SHORT).show()\n            // Save income in shared DataStore\n            DataStore.totalIncome = income\n            \n            // Navigate to SummaryActivity using an Intent\n            val intent = Intent(requireContext(), SummaryActivity::class.java)\n            startActivity(intent)\n        }\n    }\n}\n"
    },
    {
      "codeblockTitle": "SummaryActivity.kt - Display Summary and Difference",
      "code": "// File: app/src/main/java/com/example/yourapp/SummaryActivity.kt\n\npackage com.example.yourapp\n\nimport android.os.Bundle\nimport android.widget.TextView\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\n\n// Activity to display total income, expenses, and their difference\nclass SummaryActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_summary) // see activity_summary.xml\n\n        // Get references to TextViews\n        val tvIncome: TextView = findViewById(R.id.tvIncome)\n        val tvExpense: TextView = findViewById(R.id.tvExpense)\n\n        // Retrieve values from DataStore\n        val income = DataStore.totalIncome\n        val expense = DataStore.totalExpense\n\n        // Display income and expense\n        tvIncome.text = \"Total Income: $income\"\n        tvExpense.text = \"Total Expense: $expense\"\n\n        // Calculate and display difference using a Toast\n        val difference = income - expense\n        Toast.makeText(this, \"Difference: $difference\", Toast.LENGTH_LONG).show()\n    }\n}\n"
    },
    {
      "codeblockTitle": "activity_main.xml - Layout for MainActivity with TabLayout and ViewPager2",
      "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!-- File: app/src/main/res/layout/activity_main.xml -->\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\">\n\n    <!-- TabLayout for switching between Expense and Income tabs -->\n    <com.google.android.material.tabs.TabLayout\n        android:id=\"@+id/tabLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        app:tabMode=\"fixed\" />\n\n    <!-- ViewPager2 to host fragments for each tab -->\n    <androidx.viewpager2.widget.ViewPager2\n        android:id=\"@+id/viewPager\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:layout_weight=\"1\" />\n\n</LinearLayout>\n"
    },
    {
      "codeblockTitle": "fragment_expense.xml - Layout for Expense Fragment",
      "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!-- File: app/src/main/res/layout/fragment_expense.xml -->\n<ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\">\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"\n        android:padding=\"16dp\">\n\n        <!-- Input field for Expense 1 -->\n        <EditText\n            android:id=\"@+id/etExpense1\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:hint=\"Expense 1\"\n            android:inputType=\"numberDecimal\" />\n\n        <!-- Input field for Expense 2 -->\n        <EditText\n            android:id=\"@+id/etExpense2\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:hint=\"Expense 2\"\n            android:inputType=\"numberDecimal\" />\n\n        <!-- Input field for Expense 3 -->\n        <EditText\n            android:id=\"@+id/etExpense3\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:hint=\"Expense 3\"\n            android:inputType=\"numberDecimal\" />\n\n        <!-- Input field for Expense 4 -->\n        <EditText\n            android:id=\"@+id/etExpense4\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:hint=\"Expense 4 (Optional)\"\n            android:inputType=\"numberDecimal\" />\n\n        <!-- Button to calculate total expenses -->\n        <Button\n            android:id=\"@+id/btnCalculate\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Calculate Expenses\"\n            android:layout_marginTop=\"16dp\" />\n    </LinearLayout>\n\n</ScrollView>\n"
    },
    {
      "codeblockTitle": "fragment_income.xml - Layout for Income Fragment",
      "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!-- File: app/src/main/res/layout/fragment_income.xml -->\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:padding=\"16dp\">\n\n    <!-- Input field for Income -->\n    <EditText\n        android:id=\"@+id/etIncome\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Enter Income\"\n        android:inputType=\"numberDecimal\" />\n\n    <!-- Button to submit income and navigate to SummaryActivity -->\n    <Button\n        android:id=\"@+id/btnSubmit\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Submit Income\"\n        android:layout_marginTop=\"16dp\" />\n\n</LinearLayout>\n"
    },
    {
      "codeblockTitle": "activity_summary.xml - Layout for SummaryActivity",
      "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!-- File: app/src/main/res/layout/activity_summary.xml -->\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:padding=\"16dp\"\n    android:gravity=\"center\">\n\n    <!-- Display Total Income -->\n    <TextView\n        android:id=\"@+id/tvIncome\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Total Income: \"\n        android:textSize=\"18sp\" />\n\n    <!-- Display Total Expense -->\n    <TextView\n        android:id=\"@+id/tvExpense\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Total Expense: \"\n        android:textSize=\"18sp\"\n        android:layout_marginTop=\"8dp\" />\n\n</LinearLayout>\n"
    }
  ]
}
